import{PartySocket as e}from"https://js13kgames.com/2025/online/partysocket.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}(),window.PartySocket=e;const t=(e,t=window.socket)=>{((e,t,n=window.socket)=>{n.addEventListener("message",n=>{const o=n.data.toString();o.startsWith(e)&&t(o.slice(e.length))})})("@",e,t)},n=t;(()=>{const e="mewsterpiece/empty".split("/"),{host:t="relay.js13kgames.com",global:n=!0}={},o=new window.PartySocket({host:t,party:e[0],room:e.join("/")});n&&(window.socket=o)})();const{getMyId:o}=(()=>{const{socket:e=window.socket}={};let n=e.id;return t(e=>{n=e},e),{getMyId:()=>n}})();let s="Connecting...",c=o();const i=document.createElement("div");i.className="status-indicator",i.innerHTML=`\n  <div class="status-dot"></div>\n  <div class="status-text">\n    <div class="connection-status">${s}</div>\n    <div class="client-id">ID: ${c}</div>\n  </div>\n`,document.body.appendChild(i);const r=()=>{const e=i.querySelector(".status-dot"),t=i.querySelector(".connection-status"),n=i.querySelector(".client-id");t.textContent=s,n.textContent=`ID: ${c}`,e.className="status-dot","Connected"===s?e.classList.add("connected"):"Disconnected"===s||"Error"===s?e.classList.add("disconnected"):e.classList.add("connecting")};((e,t=window.socket)=>{t.addEventListener("open",e)})(()=>{s="Connected",r()}),((e,t=window.socket)=>{t.addEventListener("close",e)})(()=>{s="Disconnected",r()}),((e,t=window.socket)=>{t.addEventListener("error",e)})(()=>{s="Error",r()}),n(e=>{c=e,r()});
